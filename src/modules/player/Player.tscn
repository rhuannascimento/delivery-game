[gd_scene load_steps=18 format=3 uid="uid://bm0egqymvjmbh"]

[ext_resource type="Script" uid="uid://j47nf4cqt0hh" path="res://src/modules/player/scripts/player.gd" id="1_gpkhd"]
[ext_resource type="ArrayMesh" uid="uid://q0em5mq8dwaq" path="res://assets/images/player/delivery-flat.obj" id="2_ntuo2"]
[ext_resource type="Texture2D" uid="uid://dfi6jvpgdoqh3" path="res://assets/images/player/colormap.png" id="3_26aeb"]
[ext_resource type="Script" uid="uid://besdix8fh0iec" path="res://src/modules/player/scripts/camera_3d.gd" id="3_ntuo2"]
[ext_resource type="PackedScene" uid="uid://cec117y1blbfw" path="res://assets/models/kenney_survival-kit/Models/GLB format/box-large.glb" id="5_26aeb"]
[ext_resource type="AudioStream" uid="uid://ccnpkgac3nn0h" path="res://assets/sounds/car-crash-sound-376882.ogg" id="6_bat"]
[ext_resource type="AudioStream" uid="uid://csu6toi32it7p" path="res://assets/sounds/engine-6000.ogg" id="7_engine"]
[ext_resource type="AudioStream" uid="uid://c4y62os5p0dvi" path="res://assets/sounds/re-caminhao.ogg" id="8_re"]
[ext_resource type="AudioStream" uid="uid://b4lrhlgp506pl" path="res://assets/sounds/truck-horn-2-280800.ogg" id="9_horn"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_w7btl"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6lspx"]
albedo_texture = ExtResource("3_26aeb")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y3hvi"]
albedo_texture = ExtResource("3_26aeb")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_e6das"]
albedo_texture = ExtResource("3_26aeb")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_owynf"]
albedo_texture = ExtResource("3_26aeb")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ltia1"]
albedo_texture = ExtResource("3_26aeb")

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ntuo2"]
height = 0.26452637
radius = 0.24853516

[sub_resource type="BoxShape3D" id="BoxShape3D_gpkhd"]
size = Vector3(1.2806854, 0.88356876, 2.805193)

[node name="Player" type="VehicleBody3D" groups=["player"]]
collision_layer = 3
mass = 350.0
physics_material_override = SubResource("PhysicsMaterial_w7btl")
gravity_scale = 2.0
center_of_mass_mode = 1
center_of_mass = Vector3(0, 0.1, 0)
linear_damp = 0.4
angular_damp = 4.0
script = ExtResource("1_gpkhd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = ExtResource("2_ntuo2")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_6lspx")
surface_material_override/1 = SubResource("StandardMaterial3D_y3hvi")
surface_material_override/2 = SubResource("StandardMaterial3D_e6das")
surface_material_override/3 = SubResource("StandardMaterial3D_owynf")
surface_material_override/4 = SubResource("StandardMaterial3D_ltia1")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="."]
transform = Transform3D(3.0416482e-05, -0.9998477, -0.017452378, 0.9999984, -4.371132e-08, 0.0017453287, -0.0017450637, -0.017452408, 0.9998461, 0.472852, 0.2923113, -0.6100311)
shape = SubResource("CylinderShape3D_ntuo2")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="."]
transform = Transform3D(3.0416482e-05, -0.9998477, -0.017452378, 0.9999984, -4.371132e-08, 0.0017453287, -0.0017450637, -0.017452408, 0.9998461, -0.47908378, 0.2923113, -0.6100311)
shape = SubResource("CylinderShape3D_ntuo2")

[node name="CollisionShape3D7" type="CollisionShape3D" parent="."]
transform = Transform3D(3.0416482e-05, -0.9998477, -0.017452378, 0.9999984, -4.371132e-08, 0.0017453287, -0.0017450637, -0.017452408, 0.9998461, -0.41064012, 0.2923113, 1.0128839)
shape = SubResource("CylinderShape3D_ntuo2")

[node name="CollisionShape3D8" type="CollisionShape3D" parent="."]
transform = Transform3D(3.0416482e-05, -0.9998477, -0.017452378, 0.9999984, -4.371132e-08, 0.0017453287, -0.0017450637, -0.017452408, 0.9998461, 0.38448632, 0.2923113, 1.0128839)
shape = SubResource("CylinderShape3D_ntuo2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.9999603, -0.0089010615, 0, 0.0089010615, 0.9999603, 0.0019454956, 0.7637961, -0.097757176)
visible = false
shape = SubResource("BoxShape3D_gpkhd")

[node name="CollisionArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CollisionArea"]
transform = Transform3D(1, 0, 0, 0, 0.9999603, -0.0089010615, 0, 0.0089010615, 0.9999603, 0.0019454956, 0.7637961, -0.097757176)
shape = SubResource("BoxShape3D_gpkhd")

[node name="CrashSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("6_bat")

[node name="EngineSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("7_engine")

[node name="HornSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("9_horn")

[node name="ReverseSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("8_re")

[node name="VehicleWheel3D" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.47670215, 0.29766828, 1.0165697)
use_as_steering = true
wheel_radius = 0.35
suspension_stiffness = 20.0
damping_compression = 4.0
damping_relaxation = 4.0

[node name="VehicleWheel3D2" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5232965, 0.31475252, 1.043014)
use_as_steering = true
wheel_radius = 0.35
suspension_stiffness = 20.0
damping_compression = 4.0
damping_relaxation = 4.0

[node name="VehicleWheel3D3" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.55433166, 0.34737122, -0.71503234)
use_as_traction = true
wheel_radius = 0.35
wheel_rest_length = 0.35
suspension_stiffness = 20.0
damping_compression = 4.0
damping_relaxation = 4.0

[node name="VehicleWheel3D4" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5235437, 0.30097076, -0.6020982)
use_as_traction = true
wheel_radius = 0.35
wheel_rest_length = 0.35
suspension_stiffness = 20.0
damping_compression = 4.0
damping_relaxation = 4.0

[node name="CameraController" type="Node3D" parent="."]
script = ExtResource("3_ntuo2")

[node name="Camera3D" type="Camera3D" parent="CameraController"]
transform = Transform3D(-1, -2.3002901e-08, 1.3694208e-07, 3.683026e-08, 0.9069264, 0.4212891, -1.3388726e-07, 0.4212891, -0.9069264, 0, 1.97836, -2.678891)

[node name="RayCast3D" type="RayCast3D" parent="CameraController"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7302173, 0)

[node name="cargo" parent="." instance=ExtResource("5_26aeb")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0.48562407, -0.5239775)
visible = false
